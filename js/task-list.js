// Generated by CoffeeScript 1.6.3
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define(["./task","./utils"],function(t,n){var r;return r=function(){function r(t,n){this.$container=t;this.tasks=n;this.save=e(this.save,this);this.taskList=[]}r.prototype._insertTasks=function(){var e,r,i,s,o,u,a,f;r=n.load();a=r!=null?r:this.tasks;f=[];for(e=o=0,u=a.length;o<u;e=++o){s=a[e];i=new t(this.$container,s,this);i.init();f.push(this.taskList.push(i))}return f};r.prototype._autoSave=function(){return setInterval(this.save,3e3)};r.prototype.save=function(){var e;return n.save(function(){var t,n,r,i;r=this.taskList;i=[];for(t=0,n=r.length;t<n;t++){e=r[t];i.push(e.getData())}return i}.call(this))};r.prototype.init=function(){this._insertTasks();return this._autoSave()};return r}()})}).call(this);